

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Overview &mdash; lipsia  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="install.html" />
    <link rel="prev" title="LIPSIA 3.1.1: fMRI analysis tools" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            lipsia
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lipsia-file-format">Lipsia file format</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#laminar-specific-fmri-analysis-cylarim">Laminar-specific fMRI analysis (Cylarim)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#statistical-inference-lisa-in-examples">Statistical inference (LISA) in examples:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#semi-blind-machine-learning-sml">Semi-blind machine learning (SML):</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#how-to-install-lipsia-using-singularity">How to install LIPSIA using Singularity</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-lipsia-from-source-linux-unix-macos">Install LIPSIA from source (Linux/Unix/MacOS)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#install-the-necessary-compilers-and-libraries">1) Install the necessary compilers and libraries</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#ubuntu">Ubuntu:</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#fedora">Fedora:</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#macos">MacOS:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#clone-the-git-repository">2) Clone the git repository:</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#execute-the-script-lipsia-setup-sh-in-a-shell">3) Execute the script “lipsia-setup.sh” (in a shell)</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#compile-lipsia">4) Compile lipsia</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#change-bash-profile">5) Change bash profile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-lipsia-using-docker">Install LIPSIA using Docker</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#install-docker-on-your-local-machine">1) Install docker on your local machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#build-the-dockerfile">3) Build the Dockerfile</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Laminar-specific fMRI (Cylarim)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cylarim/index.html">Cylarim overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cylarim/index.html#initial-steps">Initial steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/index.html#the-main-steps">The main steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/index.html#example-workflow-1">Example workflow 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/index.html#example-workflow-2">Example workflow 2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cylarim/index.html#reference">Reference:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/index.html#contents">Contents</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vcylarim.html">vcylarim</a></li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vcylarim.html#further-analyses">Further Analyses</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vcylarim.html#parameters-of-vcylarim">Parameters of ‘vcylarim’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vcylarim_probe.html">vcylarim_probe</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vcylarim_probe.html#parameters-of-vcylarim-probe">Parameters of ‘vcylarim_probe’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vcylarim_roi.html">vcylarim_roi</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vcylarim_roi.html#example">Example:</a></li>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vcylarim_roi.html#parameters-of-vcylarim-roi">Parameters of ‘vcylarim_roi’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vcylarim_seed.html">vcylarim_seed</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vcylarim_seed.html#example">Example:</a></li>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vcylarim_seed.html#parameters-of-vcylarim-seed">Parameters of ‘vcylarim_seed’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vfdr.html">vfdr</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vfdr.html#example">Example:</a></li>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vfdr.html#parameters-of-vfdr">Parameters of ‘vfdr’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vrim.html">vrim</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vrim.html#example">Example:</a></li>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vrim.html#parameters-of-vrim">Parameters of ‘vrim’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cylarim/vmetric.html">vmetric</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vmetric.html#example">Example:</a></li>
<li class="toctree-l4"><a class="reference internal" href="cylarim/vmetric.html#parameters-of-vmetric">Parameters of ‘vmetric’</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cylarim/vcylarim.html">vcylarim</a></li>
<li class="toctree-l1"><a class="reference internal" href="cylarim/vcylarim.html#further-analyses">Further Analyses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vcylarim.html#parameters-of-vcylarim">Parameters of ‘vcylarim’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cylarim/vcylarim_getmask.html">vcylarim_getmask</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vcylarim_getmask.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vcylarim_getmask.html#parameters-of-vcylarim-getmask">Parameters of ‘vcylarim_getmask’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cylarim/vmetric.html">vmetric</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vmetric.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vmetric.html#parameters-of-vmetric">Parameters of ‘vmetric’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cylarim/vrim.html">vrim</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vrim.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="cylarim/vrim.html#parameters-of-vrim">Parameters of ‘vrim’</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">LISA statistical inference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stats/vlisa_generic.html">LISA generic framework (vlisa_generic)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/vlisa_generic.html#parameters-of-vlisa-generic">Parameters of ‘vlisa_generic’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats/vlisa_generic.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stats/vlisa_2ndlevel.html">LISA second-level GLM (vlisa_2ndlevel)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/vlisa_2ndlevel.html#parameters-of-vlisa-2ndlevel">Parameters of ‘vlisa_2ndlevel’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats/vlisa_2ndlevel.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stats/vlisa_onesample.html">LISA onesample test (vlisa_onesample)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/vlisa_onesample.html#parameters-of-vlisa-onesample">Parameters of ‘vlisa_onesample’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats/vlisa_onesample.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stats/vlisa_twosample.html">LISA twosample test (vlisa_twosample)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/vlisa_twosample.html#parameters-of-vlisa-twosample">Parameters of ‘vlisa_twosample’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats/vlisa_twosample.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stats/vlisa_precoloring.html">LISA single subject analysis using precoloring (vlisa_precoloring)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/vlisa_precoloring.html#parameters-of-vlisa-precoloring">Parameters of ‘vlisa_precoloring’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats/vlisa_precoloring.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stats/vlisa_prewhitening.html">LISA single subject analysis using prewhitening (vlisa_prewhitening)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/vlisa_prewhitening.html#parameters-of-vlisa-prewhitening">Parameters of ‘vlisa_prewhitening’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stats/vlisa_prewhitening.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Semi-blind machine learning (SML):</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sml/vsml.html">Semi-blind machine learning - ensemble learning (SML-EL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sml/vsml.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="sml/vsml.html#parameters-of-vsml">Parameters of ‘vsml’:</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sml/vsml.html#reference">Reference:</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sml/vreadconnectome.html">Reading data for use in Semi-blind machine learning (SML-EL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sml/vreadconnectome.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="sml/vreadconnectome.html#parameters-of-vreadconnectome">Parameters of ‘vreadconnectome’:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sml/vsml_statistics.html">Semi-blind machine learning - ensemble learning (SML-EL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sml/vsml_statistics.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="sml/vsml_statistics.html#parameters-of-vsml">Parameters of ‘vsml’:</a></li>
<li class="toctree-l2"><a class="reference internal" href="sml/vsml_statistics.html#reference">Reference:</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Task-related edge density (TED)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ted/vcuttrials.html">Cut functional data into trials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ted/vcuttrials.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="ted/vcuttrials.html#parameters-of-vcuttrials">Parameters of ‘vcuttrials’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ted/vted.html">Task-based edge density (TED)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ted/vted.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="ted/vted.html#parameters-of-vted">Parameters of ‘vted’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ted/vhubness.html">Hubness maps resulting from TED</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ted/vhubness.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="ted/vhubness.html#parameters-of-vhubness">Parameters of ‘vhubness’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ted/vtedfdr.html">False discovery rates in TED</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ted/vtedfdr.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="ted/vtedfdr.html#parameters-of-vtedfdr">Parameters of ‘vtedfdr’</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nets/vbcm.html">Bipartite connectivity mapping (BCM)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nets/vbcm.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="nets/vbcm.html#parameters-of-vbcm">Parameters of ‘vbcm’</a></li>
<li class="toctree-l2"><a class="reference internal" href="nets/vbcm.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nets/vccm.html">Connectivity concordance mapping (CCM)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nets/vccm.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="nets/vccm.html#parameters-of-vccm">Parameters of ‘vccm’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="nets/vecm.html">Eigenvector centrality mapping (ECM)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="nets/vecm.html#example">Example:</a></li>
<li class="toctree-l2"><a class="reference internal" href="nets/vecm.html#parameters-of-vecm">Parameters of ‘vecm’</a></li>
<li class="toctree-l2"><a class="reference internal" href="nets/vecm.html#references">References</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Preprocessing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prep/vdetrend.html">Detrending</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prep/vdetrend.html#parameters-of-vdetrend">Parameters of ‘vdetrend’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="prep/vpreprocess.html">Spatial smoothing and temporal filtering</a><ul>
<li class="toctree-l2"><a class="reference internal" href="prep/vpreprocess.html#parameters-of-vpreprocess">Parameters of ‘vpreprocess’</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">File format converters</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="conv/vdicom.html">Convert from dicom files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conv/vdicom.html#parameters-of-vdicom">Parameters of ‘vdicom’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="conv/vnifti.html">Convert to/from nifti files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conv/vnifti.html#parameters-of-vnifti">Parameters of <em>vnifti</em></a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Utilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="utils/vapplymask.html">Masking an image</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utils/vapplymask.html#parameters-of-vapplymask">Parameters of ‘vapplymask’</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="utils/vdenoise.html">Denoising</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils/vsrad.html">Speckle filter</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats/designformat.html">Design file format</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats/designformat_first.html">First level design files</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats/designformat_higher.html">Higher-level  level design files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="stats/designformat_higher.html#one-sample-test">One-sample test</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats/designformat_higher.html#two-sample-test">Two-sample test</a></li>
<li class="toctree-l2"><a class="reference internal" href="stats/designformat_higher.html#paired-test">Paired test</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stats/designformat_higher.html#anova-interactions-and-main-effects-repeated-measures">ANOVA (interactions and main effects, repeated measures)</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">lipsia</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Overview</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/overview.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading"></a></h1>
<p>Lipsia is a collection of tools for the analysis of functional magnetic resonance imaging (fMRI) data.
Its primary focus lies in implementing novel algorithms, including laminar-specific fMRI analysis (cylarim),
statistical inference (LISA), and Eigenvector centrality mapping (ECM).
Lipsia is designed with a focus on compactness and ease of installation,
making it readily accessible for researchers to incorporate these advanced analysis methods into their workflows.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>Lipsia supports Linux and other operating systems via Singularity and Docker, see the files
“singularity-recipe.txt” and/or “Dockerfile”. Follow the instructions here: <a class="reference internal" href="install.html"><span class="doc">Installation</span></a>.</p>
</section>
<section id="lipsia-file-format">
<h2>Lipsia file format<a class="headerlink" href="#lipsia-file-format" title="Link to this heading"></a></h2>
<p>Lipsia uses its own data format, which is called vista (extension <em>.v).
Many lipsia programs also accept gzipped files or nifti-files as input (</em>.v.gz or <em>.nii.gz).
The output is always in unzipped vista-format.
You can easily convert your NIfTI data from and to lipsia with the program *vnifti</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vnifti</span> <span class="o">-</span><span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">nii</span> <span class="o">-</span><span class="n">out</span> <span class="n">data</span><span class="o">.</span><span class="n">v</span>
<span class="n">vnifti</span> <span class="o">-</span><span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">out</span> <span class="n">data</span><span class="o">.</span><span class="n">v</span>
<span class="n">vnifti</span> <span class="o">-</span><span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">v</span> <span class="o">-</span><span class="n">out</span> <span class="n">result</span><span class="o">.</span><span class="n">nii</span>
</pre></div>
</div>
</section>
<section id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h2>
<p>Lipsia generally uses the “-in” parameter to specify input images
and “-out” for output images. Many programs within Lipsia offer additional parameters,
such as brain masks or thresholds, to fine-tune the analysis.</p>
<p>As an example, consider Eigenvector Centrality Mapping (ECM).
To compute an ECM map, you would typically use the following command-line instruction:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vecm</span> <span class="o">-</span><span class="ow">in</span> <span class="n">functional</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">mask</span> <span class="n">brainmask</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">out</span> <span class="n">ecm</span><span class="o">.</span><span class="n">v</span>
</pre></div>
</div>
<p>This command processes the input fMRI data (functional.nii.gz) within the specified brain mask
(brainmask.nii.gz) and generates an ECM map in the vista format (ecm.v).</p>
<p>To further process or visualize the ECM map with tools that may not support the vista format,
you can convert it to NIfTI format using the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vnifti</span> <span class="o">-</span><span class="ow">in</span> <span class="n">ecm</span><span class="o">.</span><span class="n">v</span> <span class="o">-</span><span class="n">out</span> <span class="n">ecm</span><span class="o">.</span><span class="n">nii</span>
</pre></div>
</div>
<p><em>Reference:</em></p>
<dl class="simple">
<dt>Lohmann, G. et al. (2010), “Eigenvector centrality mapping for analyzing connectivity patterns in fMRI data of the human brain”</dt><dd><p>PLoS ONE, <a class="reference external" href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0010232">https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0010232</a>&gt;</p>
</dd>
</dl>
</section>
<section id="laminar-specific-fmri-analysis-cylarim">
<h2>Laminar-specific fMRI analysis (Cylarim)<a class="headerlink" href="#laminar-specific-fmri-analysis-cylarim" title="Link to this heading"></a></h2>
<p>Cylarim is an innovative software for laminar fMRI analysis that
addresses a major limitation of many existing approaches: their reliance on pre-defined regions of interest (ROIs).
The definition of ROIs often involves arbitrary choices,
making them difficult to justify and prone to bias.
To overcome this problem, Cylarim utilizes small, overlapping cylinders that traverse the cortical ribbon,
enabling a comprehensive mapping of laminar-specific activity across extensive cortical regions.</p>
<p>The program <strong>vcylarim</strong> is the core tool of this package. It generates the cylinders and produces
various statistics based on the cylinder structure. Several other programs are used in preparatory steps,
or are used to further refine the output produced by “vcylarim”.</p>
<p>For a more detailed description see (<a class="reference internal" href="cylarim/index.html"><span class="doc">Cylarim overview</span></a>).</p>
<p><em>Reference:</em></p>
<p>Lohmann, G. et al (2025), bioRxiv, Beyond ROIs: Laminar fMRI Mapping with Cylarim, <a class="reference external" href="https://doi.org/10.1101/2025.03.25.645237">https://doi.org/10.1101/2025.03.25.645237</a></p>
</section>
<section id="statistical-inference-lisa-in-examples">
<h2>Statistical inference (LISA) in examples:<a class="headerlink" href="#statistical-inference-lisa-in-examples" title="Link to this heading"></a></h2>
<p><em>Onesample test at the 2nd level</em> (<a class="reference internal" href="stats/vlisa_onesample.html"><span class="doc">LISA onesample test (vlisa_onesample)</span></a>).
Example: the input is a set of contrast maps called “data_*.nii.gz”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vlisa_onesample</span> <span class="o">-</span><span class="ow">in</span> <span class="n">data_</span><span class="o">*.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">mask</span> <span class="n">mask</span><span class="o">.</span><span class="n">nii</span> <span class="o">-</span><span class="n">out</span> <span class="n">result</span><span class="o">.</span><span class="n">v</span>
<span class="n">vnifti</span> <span class="o">-</span><span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">v</span> <span class="o">-</span><span class="n">out</span> <span class="n">result</span><span class="o">.</span><span class="n">nii</span>
</pre></div>
</div>
<p><em>Twosample test at the 2nd level</em> (<a class="reference internal" href="stats/vlisa_twosample.html"><span class="doc">LISA twosample test (vlisa_twosample)</span></a>).
Example: input are two sets of contrast maps called “data1_*.nii.gz” and “data2_*.nii.gz”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vlisa_twosample</span> <span class="o">-</span><span class="n">in1</span> <span class="n">data1_</span><span class="o">*.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">in2</span> <span class="n">data2_</span><span class="o">*.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> <span class="o">-</span><span class="n">mask</span> <span class="n">mask</span><span class="o">.</span><span class="n">nii</span> <span class="o">-</span><span class="n">out</span> <span class="n">result</span><span class="o">.</span><span class="n">v</span>
<span class="n">vnifti</span> <span class="o">-</span><span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">v</span> <span class="o">-</span><span class="n">out</span> <span class="n">result</span><span class="o">.</span><span class="n">nii</span>
</pre></div>
</div>
<p><em>Single subject test (1st level)</em> (<a class="reference internal" href="stats/vlisa_prewhitening.html"><span class="doc">LISA single subject analysis using prewhitening (vlisa_prewhitening)</span></a>).
Example: input are two runs acquired in the same session called “run1.nii.gz” and “run2.nii.gz”.</p>
<blockquote>
<div><p>vlisa_prewhitening -in run1.nii.gz run2.nii.gz -design des1.txt des2.txt -mask mask.nii -out result.v
vnifti -in result.v -out result.nii</p>
</div></blockquote>
<p>Note: preprocessing should include a correction for baseline drifts:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">*</span><span class="n">Reference</span><span class="p">:</span><span class="o">*</span>
</pre></div>
</div>
<p>Lohmann et al (2018) “LISA improves statistical analysis for fMRI”,
Nature Comm, <a class="reference external" href="https://www.nature.com/articles/s41467-018-06304-z">https://www.nature.com/articles/s41467-018-06304-z</a></p>
</section>
<section id="semi-blind-machine-learning-sml">
<h2>Semi-blind machine learning (SML):<a class="headerlink" href="#semi-blind-machine-learning-sml" title="Link to this heading"></a></h2>
<p>SML is implemented in the program <strong>vsml</strong>. In the following, its usage is illustrated in an example.
The program <strong>vsml</strong> expects as input connectome data for all subjects of the training and the test set.
It is assumed that these connectomes have been precomputed using some other software tool and exist as text-files in csv-format.
The first step of the processing chain is to convert these connectomes into the lipsia-format.
This is done using the program <strong>vreadconnectome</strong> as shown in the example below.
In our example, the training set consists of 400 subjects, the test set has 100 subjects.</p>
<p>The information about the target variable of interest (e.g.IQ) must be supplied as a text-file for all subjects of the
training set (“IQ_train.txt”). If this information is also available for the test set,
it can optionally be supplied (“IQ_test.txt”) and will be used to report the accuracy of the prediction.</p>
<p>Likewise, information about supplementary non-imaging information
(e.g. educational levels) must be supplied as text-files (“Edu_train.txt”, “Edu_test.txt”).
Each row in these files contains a numerical value corresponding to a subject’s attribute (e.g. IQ or educational level).
The order of rows in these text files should align with the sequence in which the connectomes are input into <strong>vsml</strong>.</p>
<p>A few more parameters can optionally be supplied to <strong>vsml</strong> to adjust the partial least squares regression and ensemble learning process,
but default settings of these parameters should usually work well enough.</p>
<p>The output of <em>vsml</em> is a text file (“results.txt”) showing the predictions of the target variable for the subjects of the test set.</p>
<p><em>Example usage:</em></p>
<blockquote>
<div><dl class="simple">
<dt>for i in {1…400}; do</dt><dd><p><strong>vreadconnectome -in traindata_${i}.csv -out traindata_${i}.v -ncomponents 100; done</strong></p>
</dd>
<dt>for i in {1…100}; do</dt><dd><p><strong>vreadconnectome -in testdata_${i}.csv -out testdata_${i}.v -ncomponents 100; done</strong></p>
</dd>
</dl>
<p><strong>vsml -train train_*.v -test test_*.v -ytrain IQ_train.txt -ytest IQ_test.txt -xtrain Edu_train.txt -xtest Edu_test.txt -out results.txt</strong></p>
</div></blockquote>
<p><em>Reference:</em></p>
<p>Lohmann et al (2023) “Improving the reliability of fMRI-based predictions of intelligence via semi-blind machine learning”, bioRxiv, <a class="reference external" href="https://doi.org/10.1101/2023.11.03.565485">https://doi.org/10.1101/2023.11.03.565485</a></p>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="LIPSIA 3.1.1: fMRI analysis tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Gabriele Lohmann.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>